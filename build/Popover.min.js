(function(a,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):"object"===typeof exports?exports.Popover=b():(a.fafaz=a.fafaz||{},a.fafaz.Popover=b())})("undefined"!==typeof self?self:this,function(){return function(a){function b(d){if(f[d])return f[d].exports;var g=f[d]={i:d,l:!1,exports:{}};a[d].call(g.exports,g,g.exports,b);g.l=!0;return g.exports}var f={};b.m=a;b.c=f;b.d=function(d,g,a){b.o(d,g)||Object.defineProperty(d,
g,{configurable:!1,enumerable:!0,get:a})};b.n=function(d){var a=d&&d.__esModule?function(){return d["default"]}:function(){return d};b.d(a,"a",a);return a};b.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};b.p="";return b(b.s=0)}([function(a,b,f){Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(b){for(var a=1;a<arguments.length;a++){var e=arguments[a],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(b[c]=e[c])}return b},g=function(){function b(b,
a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(a,e,c){e&&b(a.prototype,e);c&&b(a,c);return a}}(),h=(a=f(1))&&a.__esModule?a:{default:a};a=function(){function b(a,e){var c=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.state={lastClickedSelector:null,openLayer:null};this._calculate=function(){return new Promise(function(b){var a=c.state.lastClickedSelector.getBoundingClientRect(),
e=c.state.openLayer.offsetHeight,d=c.state.openLayer.offsetWidth,f={top:function(){var b=c._config.gutter;return window.innerHeight<a.bottom+e?a.top-e-b:a.bottom+b}(),left:function(){switch(c._config.alignment){case "right":return a.left+a.width-d;case "center":return a.left-d/2+a.width/2;default:return a.left}}()};b(f)})};if(!document.getElementById("stylesheet-popover")){var f=document.createElement("style");f.id="stylesheet-popover";f.innerText=".fz-popover{visibility:hidden;position:fixed;opacity:0;z-index:-1;padding:1.25rem 1.75rem;-webkit-transition:opacity 0.25s ease-out;transition:opacity 0.25s ease-out;box-sizing:content-box;color:#091e42;background:#fff;border-radius:3px;box-shadow:rgba(9,30,66,0.31) 0px 0px 1px,rgba(9,30,66,0.25) 0px 4px 8px -2px}.fz-popover__active{visibility:visible;display:block;opacity:1;z-index:9999}";
document.head.appendChild(f)}this._config=d({gutter:10,alignment:"left"},e);document.addEventListener("click",function(a){c.state.openLayer&&a.target!==c.state.lastClickedSelector&&c.close()},!1);(0,h.default)(document,a,"click",function(a){a=a.delegateTarget;var b=document.getElementById(a.getAttribute("data-layer-id"));b===c.state.openLayer?c.close():(c.state.lastClickedSelector=a,c.state.openLayer=b,c.open())})}g(b,[{key:"open",value:function(){var a=this;this.position(function(){a.state.openLayer.classList.add("fz-popover__active");
window.addEventListener("resize",function(){a.position()});a.state.openLayer.addEventListener("click",function(a){a.stopPropagation()})})}},{key:"close",value:function(){var a=this;this.state.openLayer&&(this.state.openLayer.classList.remove("fz-popover__active"),window.removeEventListener("resize",function(){a.position()}),this.state.openLayer.removeEventListener("click",function(a){a.stopPropagation()}),this.state.openLayer=null)}},{key:"position",value:function(){var a=this,b=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:null;this._calculate().then(function(c){a.state.openLayer.style.cssText="top: "+c.top+"px; left: "+c.left+"px";"function"===typeof b&&b()})}}]);return b}();b.default=a},function(a,b,f){function d(a,b,e,c,d){var f=g.apply(this,arguments);a.addEventListener(e,f,d);return{destroy:function(){a.removeEventListener(e,f,d)}}}function g(a,b,d,c){return function(d){d.delegateTarget=h(d.target,b);d.delegateTarget&&c.call(a,d)}}var h=f(2);a.exports=function(a,b,f,c,g){if("function"===
typeof a.addEventListener)return d.apply(null,arguments);if("function"===typeof f)return d.bind(null,document).apply(null,arguments);"string"===typeof a&&(a=document.querySelectorAll(a));return Array.prototype.map.call(a,function(a){return d(a,b,f,c,g)})}},function(a,b){"undefined"===typeof Element||Element.prototype.matches||(b=Element.prototype,b.matches=b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector);a.exports=function(a,b){for(;a&&9!==
a.nodeType;){if("function"===typeof a.matches&&a.matches(b))return a;a=a.parentNode}}}])});
