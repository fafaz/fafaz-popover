(function(b,a){"object"===typeof exports&&"object"===typeof module?module.exports=a():"function"===typeof define&&define.amd?define([],a):"object"===typeof exports?exports.Popover=a():(b.fafaz=b.fafaz||{},b.fafaz.Popover=a())})("undefined"!==typeof self?self:this,function(){return function(b){function a(e){if(f[e])return f[e].exports;var g=f[e]={i:e,l:!1,exports:{}};b[e].call(g.exports,g,g.exports,a);g.l=!0;return g.exports}var f={};a.m=b;a.c=f;a.d=function(e,g,b){a.o(e,g)||Object.defineProperty(e,
g,{configurable:!1,enumerable:!0,get:b})};a.n=function(e){var b=e&&e.__esModule?function(){return e["default"]}:function(){return e};a.d(b,"a",b);return b};a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};a.p="";return a(a.s=0)}([function(b,a,f){Object.defineProperty(a,"__esModule",{value:!0});var e=Object.assign||function(a){for(var c=1;c<arguments.length;c++){var h=arguments[c],d;for(d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])}return a},g=function(){function a(a,
h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(c,h,d){h&&a(c.prototype,h);d&&a(c,d);return c}}(),k=(b=f(1))&&b.__esModule?b:{default:b};b=function(){function a(c,h){var d=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.VERSION="1.0.7";this.state={lastClickedSelector:null,openLayer:null};this._calculate=function(){return new Promise(function(a){var c=
d.state.lastClickedSelector.getBoundingClientRect(),b=d.state.openLayer.offsetHeight,h=d.state.openLayer.offsetWidth,e=d.state.lastClickedSelector.offsetTop,f=d.state.lastClickedSelector.offsetLeft,g={top:function(){var a=d._config.gutter;return window.innerHeight<c.bottom+b?e-b-a+c.height:e+c.height+a}(),left:function(){switch(d._config.alignment){case "right":return f+c.width-h;case "center":return f-h/2+c.width/2;default:return f}}()};a(g)})};this.handlerList={};if(!document.getElementById("stylesheet-popover")){var b=
document.createElement("style");b.id="stylesheet-popover";b.innerText=".fz-popover{visibility:hidden;position:absolute;max-height:50vh;opacity:0;z-index:-1;padding:1.25rem 1.75rem;-webkit-transition:opacity 0.25s ease-out;transition:opacity 0.25s ease-out;box-sizing:content-box;color:#091e42;background:#fff;border-radius:3px;box-shadow:rgba(9,30,66,0.31) 0px 0px 1px,rgba(9,30,66,0.25) 0px 4px 8px -2px}.fz-popover__active{visibility:visible;opacity:1;z-index:9999}";document.head.appendChild(b)}this._config=
e({gutter:10,alignment:"left"},h);document.addEventListener("click",function(a){d.state.openLayer&&a.target!==d.state.lastClickedSelector&&d.close()},!1);(0,k.default)(document,c,"click",function(a){a=a.delegateTarget;var c=document.getElementById(a.getAttribute("data-layer-id"));c.removeAttribute("hidden");c.classList.add("fz-popover");c===d.state.openLayer?d.close():(d.state.lastClickedSelector=a,d.state.openLayer=c,d.open())})}g(a,[{key:"open",value:function(){var a=this;this.position(function(){a.state.openLayer.classList.add("fz-popover__active");
a._trigger("open",a.state);window.addEventListener("resize",function(){a.position()});a.state.openLayer.addEventListener("click",function(a){a.stopPropagation()})})}},{key:"close",value:function(){var a=this;this.state.openLayer&&(this.state.openLayer.classList.remove("fz-popover__active"),window.removeEventListener("resize",function(){a.position()}),this.state.openLayer.removeEventListener("click",function(a){a.stopPropagation()}),this.state.openLayer=null)}},{key:"position",value:function(){var a=
this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this._calculate().then(function(c){a.state.openLayer.style.cssText="top: "+c.top+"px; left: "+c.left+"px";"function"===typeof b&&b()})}},{key:"_trigger",value:function(a,b){void 0!==this.handlerList[a]&&this.handlerList[a](b)}},{key:"on",value:function(a,b){this.handlerList[a]=b}}]);return a}();a.default=b},function(b,a,f){function e(a,b,e,d,f){var c=g.apply(this,arguments);a.addEventListener(e,c,f);return{destroy:function(){a.removeEventListener(e,
c,f)}}}function g(a,b,e,d){return function(c){c.delegateTarget=k(c.target,b);c.delegateTarget&&d.call(a,c)}}var k=f(2);b.exports=function(a,b,f,d,g){if("function"===typeof a.addEventListener)return e.apply(null,arguments);if("function"===typeof f)return e.bind(null,document).apply(null,arguments);"string"===typeof a&&(a=document.querySelectorAll(a));return Array.prototype.map.call(a,function(a){return e(a,b,f,d,g)})}},function(b,a){"undefined"===typeof Element||Element.prototype.matches||(a=Element.prototype,
a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector);b.exports=function(a,b){for(;a&&9!==a.nodeType;){if("function"===typeof a.matches&&a.matches(b))return a;a=a.parentNode}}}])});
